<!-- flight_search/templates/flight_search/results.html -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Itinerary Results</title>
    <link rel="stylesheet" href="{% static 'flight_search/styles.css' %}">
</head>
<body>
    <div class="container">
        <h2>Travel Itinerary</h2>

        {% for result in results %}
    <h3>Origin: {{ result.origem }} -> Destination: {{ result.destino }}</h3>
    <p><strong>Departure Date:</strong> {{ result.data_partida }}</p>

    {% if result.menor_emissao %}
    <div class="trip-info">
        <strong>Lowest CO₂ Emission Option:</strong><br>
        Flight: {{ result.menor_emissao.flight_number }}<br>
        CO₂ Emission: {{ result.menor_emissao.emissao_co2 }} grams<br>
        Price: €{{ result.menor_emissao.preco }}<br>
        Total Duration: {{ result.menor_emissao.total_duration }} minutes
    </div>
    {% endif %}

    {% if result.mais_barato %}
    <div class="trip-info">
        <strong>Cheapest Option:</strong><br>
        Flight: {{ result.mais_barato.flight_number }}<br>
        CO₂ Emission: {{ result.mais_barato.emissao_co2 }} grams<br>
        Price: €{{ result.mais_barato.preco }}<br>
        Total Duration: {{ result.mais_barato.total_duration }} minutes
    </div>
    {% endif %}

    {% if result.mais_rapido %}
    <div class="trip-info">
        <strong>Fastest Option:</strong><br>
        Flight: {{ result.mais_rapido.flight_number }}<br>
        CO₂ Emission: {{ result.mais_rapido.emissao_co2 }} grams<br>
        Price: €{{ result.mais_rapido.preco }}<br>
        Total Duration: {{ result.mais_rapido.total_duration }} minutes
    </div>
    {% endif %}

    <hr>
{% endfor %}
        
        <button class="back-button" onclick="window.history.back()">Back</button>
    </div>
</body>
</html>
